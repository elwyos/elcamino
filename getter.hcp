//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
#include schdangler sqlite.kvmap shing.suspension sqlite.kv
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
flec_class Dump
   int jobid
   string title;
   map<string, string> outdata
   map<string, string> state_percs;
   map<string, string> knowledge_reqs;
   map<string, string> skill_reqs;
   map<string, string> ability_reqs;
   
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
class Tag
   string name
   eostri type
   int tagindex
   int usagecount
   
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
class Env

   vector<string> occids
   Shing::Suspension suspensions
   
   nameschmap<Tag> knowledges;
   nameschmap<Tag> skills;
   nameschmap<Tag> abilities;
   vector<Tag*> alltags
   map<string, int> tagmappings
   

   /\/ uNSORTED /\/

      // dump_analysis(int jobid, const string& thedump);
      // goScrape(int jobid);
      Env();
      checkAllIds();
      maybeCallStarters();
      dump_analysis(string jobid, const string& thedump);
      goScrape(string jobid);
      // reanalyze();
      reparse();
      process();
      processTags();
      getTagNum(const string& thestr) -> int;
   
   
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
DECLschdangler(env, Env);
DECLsqlkv(rawhtmls, "dumps.db", "rawhtmls")
DECLsqlkvmap(dumpkv, string, Dump, "dumps.db", "ledumps");
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
